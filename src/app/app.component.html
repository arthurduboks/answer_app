<html>
  <head>
    <meta charset="utf-8" />
    <title>Quiz</title>
  </head>
  <body>
    <h2 class="heading">Quiz App</h2>
    <hr />
    <div id="score">
      <p>
        score: {{ score }} right answers out of
        {{ questionsList.length }} possible
      </p>
    </div>

    <div class="card" *ngFor="let question of questionsList; index as i">
      <br />
      <h1>Question {{ i + 1 }}</h1>

      <h2 id="question">{{ question.question }}</h2>
      <div id="content">
        <select (change)="handleChange($event.target)">
          <option>--Select--</option>
          <option *ngFor="let choice of question.choices" [value]="choice">
            {{ choice }}
          </option>
        </select>
      </div>
      <button
        id="check"
        (click)="onSubmit(i, content_success, content_failure)"
      >
        Feeling Lucky
      </button>
    </div>
    <br />

    <ng-template #content_success let-modal>
      <div class="modal-body">
        <h3 id="explanation">
          {{ explanation }}
        </h3>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-outline-dark"
          (click)="modal.close('Save click')"
        >
          Ok
        </button>
      </div>
    </ng-template>

    <ng-template #content_failure let-modal>
      <div class="modal-body">
        <div>Please select correct answer</div>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-outline-dark"
          (click)="modal.close('Save click')"
        >
          Ok
        </button>
      </div>
    </ng-template>
  </body>
</html>
